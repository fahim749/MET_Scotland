<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MET Scotland - Mathematics Educators Training</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- All CSS styles from your original file remain here -->
    <style>
        /* Your existing CSS styles remain unchanged */
        
        /* New styles for enhanced features */
        .resource-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .resource-modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            color: #777;
            cursor: pointer;
            background: none;
            border: none;
        }
        
        .modal-resource-content {
            margin-top: 20px;
        }
        
        .modal-video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 12px;
            background: #000;
            margin-bottom: 20px;
        }
        
        .modal-video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .modal-pdf-container {
            height: 500px;
            border: 1px solid #eee;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .modal-pdf-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .additional-content-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.08);
            padding: 30px;
            margin-top: 40px;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        
        .content-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: transform 0.3s ease;
            border: 1px solid #eee;
        }
        
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .content-card i {
            font-size: 3rem;
            color: var(--scot-blue);
            margin-bottom: 15px;
        }
        
        .content-card h3 {
            color: var(--scot-blue);
            margin-bottom: 15px;
        }
        
        .content-card a {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 20px;
            background: var(--scot-blue);
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .content-card a:hover {
            background: #0055a5;
        }
        
        .content-card .btn-secondary {
            background: var(--highland-green);
        }
        
        .content-card .btn-secondary:hover {
            background: #1a7d46;
        }
        
        .content-card .btn-tertiary {
            background: var(--admin-purple);
        }
        
        .content-card .btn-tertiary:hover {
            background: #58407d;
        }
        
        .community-forum {
            background: white;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.08);
            padding: 30px;
            margin-top: 40px;
        }
        
        .forum-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .forum-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .forum-tab {
            padding: 10px 20px;
            background: #f0f0f0;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .forum-tab.active {
            background: var(--scot-blue);
            color: white;
        }
        
        .forum-content {
            display: none;
        }
        
        .forum-content.active {
            display: block;
        }
        
        .discussion {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid var(--scot-blue);
        }
        
        .discussion-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--scot-blue);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .discussion-content h4 {
            color: var(--scot-blue);
            margin-bottom: 10px;
        }
        
        .discussion-meta {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            color: #777;
            font-size: 0.9rem;
        }
        
        .discussion-meta i {
            margin-right: 5px;
        }
        
        .new-discussion {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
        }
        
        .new-discussion textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 15px 0;
            min-height: 100px;
        }
        
        .new-discussion button {
            background: var(--scot-blue);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Password Modal -->
    <div class="password-modal" id="passwordModal">
        <!-- Content remains the same as in your original file -->
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">Resource uploaded successfully!</span>
    </div>
    
    <!-- Resource Modal -->
    <div class="resource-modal" id="resourceModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <h2 id="modalTitle">Resource Title</h2>
            <div class="modal-resource-content" id="modalResourceContent">
                <!-- Content will be dynamically inserted here -->
            </div>
        </div>
    </div>
    
    <!-- Main Content (hidden until password is entered) -->
    <div id="appContent" style="display: none;">
        <!-- Header, Nav, Container, and Footer remain the same as in your original file -->
        
        <!-- I'll show you how to add new sections below -->
        
        <!-- Existing sections... -->
        
        <!-- NEW: Additional Content Section -->
        <div class="container">
            <div class="additional-content-section">
                <h2 class="section-title"><i class="fas fa-plus-circle"></i> Additional Resources</h2>
                <p>Expand your training with these valuable resources</p>
                
                <div class="content-grid">
                    <div class="content-card">
                        <i class="fas fa-graduation-cap"></i>
                        <h3>Professional Development</h3>
                        <p>Advanced courses and certifications for mathematics educators</p>
                        <a href="#" class="btn">Explore Courses</a>
                    </div>
                    
                    <div class="content-card">
                        <i class="fas fa-chalkboard"></i>
                        <h3>Lesson Plans</h3>
                        <p>Ready-to-use lesson plans aligned with Scottish curriculum</p>
                        <a href="#" class="btn btn-secondary">View Plans</a>
                    </div>
                    
                    <div class="content-card">
                        <i class="fas fa-book"></i>
                        <h3>Math Literature</h3>
                        <p>Recommended books and research papers</p>
                        <a href="#" class="btn btn-tertiary">Browse Library</a>
                    </div>
                    
                    <div class="content-card">
                        <i class="fas fa-calendar-check"></i>
                        <h3>Event Calendar</h3>
                        <p>Upcoming workshops, seminars, and conferences</p>
                        <a href="#" class="btn">View Events</a>
                    </div>
                </div>
            </div>
            
            <!-- NEW: Community Forum Section -->
            <div class="community-forum">
                <div class="forum-header">
                    <h2 class="section-title"><i class="fas fa-users"></i> Community Forum</h2>
                    <button class="btn" id="newTopicBtn"><i class="fas fa-plus"></i> New Topic</button>
                </div>
                
                <div class="forum-tabs">
                    <div class="forum-tab active" data-tab="discussions">Latest Discussions</div>
                    <div class="forum-tab" data-tab="popular">Popular Topics</div>
                    <div class="forum-tab" data-tab="questions">Your Questions</div>
                </div>
                
                <div class="forum-content active" id="discussionsContent">
                    <div class="discussion">
                        <div class="discussion-header">
                            <div class="user-avatar">AM</div>
                            <div>
                                <h4>Andrew M.</h4>
                                <p>Posted 2 hours ago</p>
                            </div>
                        </div>
                        <div class="discussion-content">
                            <h4>Effective ways to teach decimal multiplication?</h4>
                            <p>I've been using the chimney method but some students struggle with decimal placement. What visual aids have you found effective for explaining this concept?</p>
                        </div>
                        <div class="discussion-meta">
                            <span><i class="fas fa-comment"></i> 12 replies</span>
                            <span><i class="fas fa-eye"></i> 45 views</span>
                            <span><i class="fas fa-heart"></i> 8 likes</span>
                        </div>
                    </div>
                    
                    <div class="discussion">
                        <div class="discussion-header">
                            <div class="user-avatar">ES</div>
                            <div>
                                <h4>Eilidh S.</h4>
                                <p>Posted 1 day ago</p>
                            </div>
                        </div>
                        <div class="discussion-content">
                            <h4>Chimney Method for Fractions?</h4>
                            <p>Has anyone adapted the chimney method for fraction multiplication? Looking for strategies to help students transition between whole numbers and fractions.</p>
                        </div>
                        <div class="discussion-meta">
                            <span><i class="fas fa-comment"></i> 7 replies</span>
                            <span><i class="fas fa-eye"></i> 32 views</span>
                            <span><i class="fas fa-heart"></i> 5 likes</span>
                        </div>
                    </div>
                </div>
                
                <div class="forum-content" id="popularContent">
                    <!-- Popular topics would go here -->
                </div>
                
                <div class="forum-content" id="questionsContent">
                    <!-- User questions would go here -->
                </div>
                
                <div class="new-discussion" id="newDiscussionForm" style="display: none;">
                    <h3><i class="fas fa-edit"></i> Start a New Discussion</h3>
                    <input type="text" class="form-control" placeholder="Discussion Title" id="discussionTitle">
                    <textarea placeholder="What would you like to discuss?" id="discussionContent"></textarea>
                    <button id="postDiscussionBtn">Post Discussion</button>
                </div>
            </div>
        </div>
        
        <!-- Footer remains the same as in your original file -->
    </div>

    <script>
        // Your existing JavaScript remains here
        
        // NEW: Enhanced resource functionality
        function openResourceModal(resource) {
            const modal = document.getElementById('resourceModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalResourceContent');
            
            modalTitle.textContent = resource.title;
            
            if (resource.type === 'video') {
                // For demo purposes - in a real implementation you would use actual video URLs
                modalContent.innerHTML = `
                    <div class="modal-video-container">
                        <div class="video-placeholder">
                            <i class="fas fa-play-circle"></i>
                            <h3>${resource.title}</h3>
                            <p>${resource.description}</p>
                            <p>Duration: ${resource.duration}</p>
                        </div>
                    </div>
                    <p><strong>Teaching Strategy:</strong> ${resource.strategy}</p>
                    <div class="resource-actions" style="margin-top: 20px;">
                        <button class="btn" style="margin-right: 10px;">
                            <i class="fas fa-download"></i> Download Notes
                        </button>
                        <button class="btn" style="background: var(--highland-green);">
                            <i class="fas fa-bookmark"></i> Save to Favorites
                        </button>
                    </div>
                `;
            } else if (resource.type === 'pdf') {
                // For demo purposes - in a real implementation you would use actual PDF URLs
                modalContent.innerHTML = `
                    <div class="modal-pdf-container">
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; background: #f5f5f5; color: #333; padding: 20px; text-align: center;">
                            <i class="fas fa-file-pdf" style="font-size: 5rem; color: #e74c3c; margin-bottom: 20px;"></i>
                            <h3>${resource.title}</h3>
                            <p>${resource.description}</p>
                            <p>This is a preview of the PDF document. To view the full content, please download the file.</p>
                            <button class="btn" style="margin-top: 20px;">
                                <i class="fas fa-download"></i> Download PDF
                            </button>
                        </div>
                    </div>
                    <div class="resource-meta" style="margin-top: 15px;">
                        <p><i class="fas fa-file"></i> PDF Document | ${resource.size || '2.4 MB'}</p>
                    </div>
                `;
            }
            
            modal.classList.add('active');
        }
        
        // NEW: Forum functionality
        document.getElementById('newTopicBtn').addEventListener('click', function() {
            const form = document.getElementById('newDiscussionForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        });
        
        document.getElementById('postDiscussionBtn').addEventListener('click', function() {
            const title = document.getElementById('discussionTitle').value;
            const content = document.getElementById('discussionContent').value;
            
            if (title && content) {
                showNotification('Discussion posted successfully!');
                document.getElementById('newDiscussionForm').style.display = 'none';
                document.getElementById('discussionTitle').value = '';
                document.getElementById('discussionContent').value = '';
            } else {
                showNotification('Please fill in both title and content', 'error');
            }
        });
        
        // Tab switching for forum
        document.querySelectorAll('.forum-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.forum-tab').forEach(t => {
                    t.classList.remove('active');
                });
                
                // Hide all content
                document.querySelectorAll('.forum-content').forEach(c => {
                    c.classList.remove('active');
                });
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Show corresponding content
                const tabName = this.getAttribute('data-tab');
                document.getElementById(`${tabName}Content`).classList.add('active');
            });
        });
        
        // Close modal functionality
        document.getElementById('closeModal').addEventListener('click', function() {
            document.getElementById('resourceModal').classList.remove('active');
        });
        
        // Close modal when clicking outside content
        document.getElementById('resourceModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });
        
        // Update resource rendering to include modal functionality
        function renderResources() {
            // ... your existing renderResources code ...
            
            // Add event listeners to resource preview cards
            document.querySelectorAll('.preview-card').forEach(card => {
                card.addEventListener('click', function() {
                    const id = this.querySelector('button').getAttribute('data-id');
                    const resource = resources.find(res => res.id == id);
                    if (resource) {
                        openResourceModal(resource);
                    }
                });
            });
            
            // Add event listeners to resource cards in admin view
            document.querySelectorAll('.resource-card').forEach(card => {
                card.addEventListener('click', function() {
                    const id = this.querySelector('.edit-btn').getAttribute('data-id');
                    const resource = resources.find(res => res.id == id);
                    if (resource) {
                        openResourceModal(resource);
                    }
                });
            });
        }
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // ... your existing initialization code ...
            
            // Add external resource links
            document.getElementById('downloadNotesBtn').addEventListener('click', function() {
                window.open('https://example.com/resources/decimal-multiplication-notes.pdf', '_blank');
            });
            
            document.getElementById('practiceSheetBtn').addEventListener('click', function() {
                window.open('https://example.com/resources/multiplication-practice-sheet.pdf', '_blank');
            });
            
            document.getElementById('downloadPackBtn').addEventListener('click', function() {
                window.open('https://example.com/resources/full-practice-pack.zip', '_blank');
            });
        });
    </script>
</body>
</html>